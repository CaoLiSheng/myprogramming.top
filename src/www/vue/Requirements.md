# V2 设计

## 全部静态化

每篇文章一个网页，文章内容类似 `SSR` 那样写进一个全局变量，网站统一的脚本会读取这个变量，然后通过 `v-html` 写入页面相应位置。这样依然保留每篇文章独立的样式脚本，不过 `JS 脚本` 需要重新适配一下。

### 开发时（方案 1）

以上是线上运行时的样子，开发时是利用 `webpack-dev-server` 启动的一个服务器，并没有相应的静态文件，所以状态记录到浏览器本地存储，模拟静态文件路径。

### 方案 2

过了一个晚上，新的方案如涌泉般不可收拾：先用 webpack 打包出 gen、vue，然后把 vue 产出当作模板生成静态文件。开发时，用 nodemon + serve 同时监听 vue 和 posts 的变化。

## 资源文件重复问题

重复的资源文件分别在 posts 和 v2 两个文件夹下，计划把资源文件单独放一个 resource 文件，图片等链接用插件处理一下，publish 时用命令行拷贝资源文件。
